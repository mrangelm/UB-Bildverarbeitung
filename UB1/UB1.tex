
\input{../Script/exercise}


\SetLecture{Bildverarbeitung}
\SetExercise{1}
\AddAutor{Angel}{Rangel}{angel-eduardo.rangel-mendez@student.uni-tuebingen.de}
\AddAutor{Ido Freeman}{}{freeman@informatik.uni-tuebingen.de}
\AddAutor{Astrid Kreuzburg}{}{astrid.creuzburg@student.uni-tuebingen.de}
\SetLogo{mb}
\graphicspath{ {images/} }

%%Inicio documento
\begin{document} 
    \begin{enumerate}
         \item[Exercise 1:] Working with images
    \end{enumerate}
    \begin{enumerate}
        \item[(a)] {Write a function my loadImage that loads an image and display it (my showImage). Convert the image from uint8 to oating point representation (command double). Values should be in between 0 and 1. Use the functions image or imagesc.}
    \end{enumerate}
        \\
        \\ my loadImage:
        \\  img \ = \ double(imread(filename))/255;
        \\\\ $img \ is \ a \ 3-dimensional \ MxNx3 \ matrix, \ the \ elements \ in \ img(:,:,1) \ are \ interpreted \ as \ red \ intensities, \ in \ img(:,:,2) \ as \ green \ intensities, \ and \ in \ img(:,:,3) \ as \ blue \ intensities.$
        \\\\ my showImage:
        \\ $ imagesc(img) $
        \\\\
    	\centering
        \includegraphics[scale=0.58]{images/SolutionFirstPart.jpg} 
        \\ \pagebreak
    \begin{enumerate}        
        \item[(b)] {Write two functions my RGBSplit and my plotRGBSplit that split the R, G and B channels of an image and display them separately. The plots should all be included in a single figure (use subplot). Each channel should be plotted in its primary color.}
    \end{enumerate}
        \\\\
        \\ my RGBSplit:
        \\ split the RGB channels:
        \\ imgR = imgRGB(:,:,1);
        \\ imgG = imgRGB(:,:,2);
        \\ imgB = imgRGB(:,:,3);
        \\
        \\ my_plotRGBSplit:
        \\ [height0 , width0] = size(imgR);
        \\ [height1 , width1] = size(imgG);
        \\ [height2 , width2] = size(imgB);
        \\
        \\ Roff = struct('img', imgR, 'x', height0, 'y', width0);
        \\ Goff = struct('img', imgG, 'x', height1, 'y', width1);
        \\ Boff = struct('img', imgB, 'x', height2, 'y', width2);
        \\
        \\ Icol = imgRGB;
        \\ --figure layout
        \\ ax(1) = subplot(2,2,1);
        \\ im(1) = imshow(Roff.img);
        \\ title({'Red Channel', '[x: 0, y: 0]'});
        \\
        \\ ax(2) = subplot(2,2,2);
        \\ im(2) = imshow(Goff.img);
        \\ title({'Green Channel', '[x: 0, y: 0]'});
        \\
        \\ ax(3) = subplot(2,2,3);
        \\ im(3) = imshow(Boff.img);
        \\ title({'Blue Channel', '[x: 0, y: 0]'});
        \\
        \\ ax(4) = subplot(2,2,4);
        \\ im(4) = imshow(Icol);
        \\ title({'Original', '[x: 0, y: 0]'});
        \\\\\
        \includegraphics[scale=0.5]{images/SolutionSecPart.jpg} 
        \includegraphics[scale=0.7]{images/SolutionThreethPart.jpg} 
        \\ \pagebreak
    \begin{enumerate}        
        \item[(c)] Implement a gamma correction for images (my gammaCorrection).
        \\
    \end{enumerate}
        \\
        Gamma Correction:
        \\\\ imgGC = 255*((img/255).^(1/GW))
        \\\\
        \\ GW = 2.2; \\
        \includegraphics[scale=0.4]{images/SolutionFourth2Part.jpg}
        \\ GW = 0.8; \\
        \includegraphics[scale=0.4]{images/SolutionFourthPart.jpg}
        \\ \pagebreak
    \begin{enumerate}        
        \item[(d)] {Write a function my RGB2Gray that converts an image to grayscale. Apply your gamma correction before converting the image to grayscale.}
    \end{enumerate}        
        \\
        \\ my RGB2Gray:
        \\\\ imgGray = rgb2gray(img)
        \\\\
        \includegraphics[scale=0.4]{images/SolutionImagD.jpg}
        \\ \ \\
        \includegraphics[scale=0.4]{images/SolutionImagD2.jpg}
        \\ \pagebreak
    \begin{enumerate}
         \item[Exercise 2:] Histograms
    \end{enumerate}
    \\\\
    \begin{enumerate}        
        \item[(a)] {Create Histograms [2 points]: Implement a function "my hist" which computes the grayscale histogram of an image. Implement a plotting function for your histogram (my plotHist).
            Double-check your result using the Matlab functions hist or histc. What can be read out of the histogram  in general as well as for the given image?}
    \end{enumerate}
    \\\\
    \raggedright{
    \textbf{my hist:}
    \\ \ \\
    imgGray = uint8(imgGray*255);
    \\ [f,c]=size(imgGray);
    \\
    \\ for i=1:256
    \\ \ \ \ \ \ h(i) = 0;
    \\ end
    \\
    \\ for i=1:f
       \\ \ \ \ \ \ for j=1:c
           \\ \ \ \ \ \ \ \ \ \ \ k = imgGray(i,j);
           \\ \ \ \ \ \ \ \ \ \ \ h(k+1) = h(k+1)+1;
       \\ \ \ \ \ \ end
    \\ end
    \\ \ \\
    \\ hist = h;}
    \\ \ \\
    \textbf{my plotHist:}
    \\ \ \\
    figure;
    \\ plot(0:255, hist);
    \\\\
\end{document}